document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".select-all"),t=(document.querySelector(".copy-select"),document.querySelectorAll(".purchases__item-box"),document.querySelectorAll(".purchases__item-box .checkbox-angle .checkbox-input"));document.querySelectorAll(".purchases__item-box .copy-input");var o,n;t.forEach((t=>{e.addEventListener("click",(e=>{t.checked=!0}))})),o=document.querySelectorAll(".wallet-payment"),n=document.getElementsByClassName("payment-active"),Array.from(o).forEach((function(e,t,o){e.addEventListener("click",(function(e){n.length>0&&n[0]!==this&&n[0].classList.remove("payment-active"),this.classList.toggle("payment-active")}))}));const c=document.querySelector(".sidebar__btn-open"),l=document.querySelector(".sidebar");c.onclick=function(){l.classList.toggle("sidebar-open")};let i=document.querySelectorAll(".copy-btn");i.forEach((e=>{e.addEventListener("click",(function(t){let o=e.parentNode.querySelector(".copy-input"),n=document.createRange();n.selectNode(o),window.getSelection().addRange(n);try{let e=document.execCommand("copy")?"successful":"unsuccessful";console.log("Copy email command was"+e)}catch(e){console.log("Oops, unable to copy")}window.getSelection().removeAllRanges()}))})),function(){let e=i,t=document.getElementsByClassName("copied");Array.from(e).forEach((function(e,o,n){e.addEventListener("click",(function(e){t.length>0&&t[0]!==this.parentNode&&t[0].classList.remove("copied"),this.parentNode.classList.toggle("copied")}))}))}(),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)}),document.querySelectorAll(".dropdown").forEach((function(e){const t=e.querySelector(".dropdown__button"),o=e.querySelector(".dropdown__list"),n=o.querySelectorAll(".dropdown__list-item"),c=o.querySelectorAll(".dropdown__list-item--searchid"),l=e.querySelector(".dropdown__input-hidden");t.addEventListener("click",(function(e){o.classList.toggle("dropdown__list--visible"),this.classList.add("dropdown__button--active")})),n.forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation(),t.innerHTML=this.innerHTML,t.focus(),l.value=this.dataset.value,o.classList.remove("dropdown__list--visible")}))})),c.forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation()}))})),document.addEventListener("click",(function(e){e.target!==t&&(t.classList.remove("dropdown__button--active"),o.classList.remove("dropdown__list--visible"))})),document.addEventListener("keydown",(function(e){"Tab"!==e.key&&"Escape"!==e.key||(t.classList.remove("dropdown__button--active"),o.classList.remove("dropdown__list--visible"))}))}));const r=document.querySelectorAll(".dropdown__list-item");document.querySelector(".dropdown");for(let e of r)e.addEventListener("click",s);function s(){this.parentNode.parentNode.classList.add("cstm-dropdown-active")}const d=document.querySelectorAll(".rating");d.length>0&&function(){let e,t;for(let e=0;e<d.length;e++){o(d[e])}function o(e){n(e),c(),e.classList.contains("rating_set")&&l(e)}function n(o){e=o.querySelector(".rating__active"),t=o.querySelector(".rating__value")}function c(o=t.innerHTML){const n=o;n<=0?e.style.width="0%":n>=1&&n<10||n>=10&&n<20?e.style.width="10%":n>=20&&n<30?e.style.width="20%":n>=30&&n<40?e.style.width="30%":n>=40&&n<50?e.style.width="40%":n>=50&&n<60?e.style.width="50%":n>=60&&n<70?e.style.width="60%":n>=70&&n<80?e.style.width="70%":n>=80&&n<90?e.style.width="80%":n>=90&&n<100?e.style.width="90%":n>=100&&(e.style.width="100%")}function l(e){const o=e.querySelectorAll(".rating__item");for(let l=0;l<o.length;l++){const i=o[l];i.addEventListener("mouseenter",(function(t){n(e),c(i.value)})),i.addEventListener("mouseleave",(function(e){c()})),i.addEventListener("click",(function(o){n(e),e.dataset.ajax?setRatingValue(i.value,e):(t.innerHTML=l+1,c())}))}}}();const a=document.querySelectorAll(".btn, .modal-open"),u=document.querySelectorAll(".modal-close"),m=document.querySelector(".modal-overlay "),v=document.querySelectorAll(".modal");a.forEach((e=>{e.addEventListener("click",(e=>{let t=e.currentTarget.getAttribute("data-path");v.forEach((e=>{e.classList.remove("modal--visible")})),document.querySelector(`[data-target="${t}"]`).classList.add("modal--visible"),m.classList.add("modal-overlay--visible")}))})),u.forEach((e=>{e.addEventListener("click",(e=>{let t=e.currentTarget.getAttribute("data-path");v.forEach((e=>{e.classList.remove("modal--visible"),m.classList.remove("modal-overlay--visible")})),document.querySelector(`[data-target="${t}"]`).classList.remove("modal--visible")}))})),m.addEventListener("click",(e=>{e.target==m&&(m.classList.remove("modal-overlay--visible"),v.forEach((e=>{e.classList.remove("modal--visible")})))}));let y=document.querySelector("#tickets-answered"),p=document.querySelector("#tickets-not-answered"),f=document.querySelector("#tickets-resolved"),h=document.querySelector("#tickets-not-resolved");function _(){let e=document.querySelectorAll(".dropdown__button > .dropdown__list-item-content.answered"),t=document.querySelectorAll(".dropdown__button > .dropdown__list-item-content.not-answered"),o=document.querySelectorAll(".dropdown__button > .dropdown__list-item-content.resolved"),n=document.querySelectorAll(".dropdown__button > .dropdown__list-item-content.not-resolved"),c=e.length,l=t.length,i=o.length,r=n.length;c<10&&(c="0"+c),y.innerHTML=c,l<10&&(l="0"+l),p.innerHTML=l,i<10&&(i="0"+i),f.innerHTML=i,r<10&&(r="0"+r),h.innerHTML=r}document.querySelectorAll(".dropdown__list-item").forEach(((e,t)=>{e.addEventListener("click",(e=>{_()}))})),_();const L=document.querySelectorAll(".tickets__history-list-item--more-btn");document.querySelectorAll(".tickets__history-list--more").forEach((e=>{const t=e;L.forEach((e=>{e.addEventListener("click",(o=>{e.classList.toggle("tickets-more"),t.classList.toggle("tickets-more")}))}))}));const w=document.querySelectorAll(".tab-btn"),b=document.querySelectorAll(".tab-item");w.forEach((function(e){e.addEventListener("click",(function(){let t=e,o=t.getAttribute("data-tab"),n=document.querySelector(o);t.classList.contains("tab-active")||(w.forEach((function(e){e.classList.remove("tab-active")})),b.forEach((function(e){e.classList.remove("tab-active")})),t.classList.add("tab-active"),n.classList.add("tab-active"))}))})),$((function(){$(document).on("click",".input-number__arrow--minus",(function(){let e=$(this).next();e.val()>0&&e.val(+e.val()-1)})),$(document).on("click",".input-number__arrow--plus",(function(){let e=$(this).prev();e.val(+e.val()+1)}))})),$((function(){let e=$(".input"),t=$(".input-buffer");for(let t of e)t.addEventListener("input",o);function o(){t.text(e.val()),e.width(t.width())}}));new easepick.create({element:document.getElementById("date-from"),css:["https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.1/dist/index.css"],format:"DD.MM.YYYY"}),new easepick.create({element:document.getElementById("date-to"),css:["https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.1/dist/index.css"],format:"DD.MM.YYYY"})}));