<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>West Weight</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Nunito+Sans:opsz,wght@6..12,200;6..12,300;6..12,400;6..12,600;6..12,700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <!--=include sprite.html-->
  <div class="wrapper page-api">
    <!--=include sidebar.html-->
    <main class="main">
      <section class="api">
        <div class="container">
          <div class="api__inner">
            <div class="title-box">
              <h2 class="title">ship: Request / response parameters</h2>
            </div>
            <div class="api__copy">
              <span>Your api key:</span>
              <div class="copy-box">
                <button class="copy-btn">
                  <svg class="icon-copy">
                    <use xlink:href="#icon-copy"></use>
                  </svg>
                </button>
                <span class="copy-input">daccab677d8df95b12af688e4a878837</span>
              </div>
              <button class="btn">Reset API Key</button>
            </div>
            <div class="api__params">
              <div class="api__item">
                <h3 class="api__item-title">Request Params (All fields required)</h3>
                <div class="api__item-wrapper">
                  <table class="api__table">
                    <tr>
                      <th>Key</th>
                      <th>Type</th>
                      <th>Length</th>
                      <th>Rule</th>
                      <th>Value</th>
                    </tr>
                    <tr>
                      <td>api_key</td>
                      <td>String</td>
                      <td>40</td>
                      <td>0-9a-f</td>
                      <td>Your API key</td>
                    </tr>
                    <tr>
                      <td>carrier_name</td>
                      <td>String</td>
                      <td>3 - 10</td>
                      <td>a-z</td>
                      <td><span class="text-color">ups<br>fedex</span></td>
                    </tr>
                    <tr>
                      <td>carrier_service</td>
                      <td>String</td>
                      <td>8 - 15</td>
                      <td>a-z</td>
                      <td>
                        <span class="text-color">ups_ground</span>- UPS Ground<br>
                        <span class="text-color">fedex_ground</span>- FedEx Ground
                      </td>
                    </tr>
                    <tr>
                      <td>sender_name</td>
                      <td>String</td>
                      <td>3 - 35</td>
                      <td>0-9A-Za-z\s\#\.\,\'\"\(\)\-</td>
                      <td>e.g. <span class="text-color">John Doe</span></td>
                    </tr>
                    <tr>
                      <td>sender_company</td>
                      <td>String</td>
                      <td>2</td>
                      <td>0-9\-</td>
                      <td>e.g. <span class="text-color">1234567890</span></td>
                    </tr>
                    <tr>
                      <td>sender_address1</td>
                      <td>String</td>
                      <td>5</td>
                      <td>0-9A-Za-z\s\#\.\,\'\"\(\)\-</td>
                      <td>e.g. <span class="text-color">Sender Inc.</span> / value can be empty string</td>
                    </tr>
                    <tr>
                      <td>sender_address2</td>
                      <td>String</td>
                      <td>2</td>
                      <td>0-9A-Za-z\s\#\.\,\'\"\(\)\-</td>
                      <td>e.g. <span class="text-color">123 Main St</span></td>
                    </tr>
                    <tr>
                      <td>sender_city</td>
                      <td>String</td>
                      <td>3 - 35</td>
                      <td>0-9A-Za-z\s\#\.\,\'\"\(\)\-</td>
                      <td>e.g. <span class="text-color">Detroit</span></td>
                    </tr>
                    <tr>
                      <td>sender_state</td>
                      <td>String</td>
                      <td>10 - 15</td>
                      <td>0-9A-Za-z\s\’</td>
                      <td>e.g. <span class="text-color">MI</span></td>
                    </tr>
                    <tr>
                      <td>sender_zip</td>
                      <td>String</td>
                      <td>3 - 35</td>
                      <td>A-Za-z</td>
                      <td>e.g. <span class="text-color">48221</span></td>
                    </tr>
                    <tr>
                      <td>sender_country</td>
                      <td>String</td>
                      <td>3 - 35</td>
                      <td>0-9</td>
                      <td>e.g. <span class="text-color">US</span></td>
                    </tr>
                    <tr>
                      <td>recipient_name</td>
                      <td>String</td>
                      <td>10 - 15</td>
                      <td>A-Z</td>
                      <td>e.g. <span class="text-color">Jane Doe</span></td>
                    </tr>
                    <tr>
                      <td>recipient_phone</td>
                      <td>String</td>
                      <td>3 - 35</td>
                      <td>0-9A-Za-z\s\#\.\,\'\"\(\)\-</td>
                      <td>e.g. <span class="text-color">9876543210</span></td>
                    </tr>
                    <tr>
                      <td>recipient_company</td>
                      <td>String</td>
                      <td>3 - 35</td>
                      <td>0-9</td>
                      <td>e.g. <span class="text-color">Recipient Inc.</span> / value can be empty string</td>
                    </tr>
                    <tr>
                      <td>recipient_address1</td>
                      <td>String</td>
                      <td>3 - 35</td>
                      <td>0-9A-Za-z\s\#\.\,\'\"\(\)\-</td>
                      <td>e.g. <span class="text-color">321 Maple Street</span></td>
                    </tr>
                    <tr>
                      <td>recipient_address2</td>
                      <td>String</td>
                      <td>3 - 20</td>
                      <td>0-9A-Za-z\s\#\.\,\'\"\(\)\-</td>
                      <td>e.g. <span class="text-color">Miami</span> / value can be empty string</td>
                    </tr>
                    <tr>
                      <td>recipient_city</td>
                      <td>String</td>
                      <td>3 - 20</td>
                      <td>0-9A-Za-z\s\#\.\,\'\"\(\)\-</td>
                      <td>e.g. <span class="text-color">FL</span></td>
                    </tr>
                    <tr>
                      <td>recipient_state</td>
                      <td>String</td>
                      <td>2</td>
                      <td>0-9A-Za-z\s\’</td>
                      <td>e.g. <span class="text-color">33101</span></td>
                    </tr>
                    <tr>
                      <td>recipient_zip</td>
                      <td>String</td>
                      <td>5</td>
                      <td>0-9A-Za-z\s\’</td>
                      <td>e.g. <span class="text-color">US</span></td>
                    </tr>
                    <tr>
                      <td>recipient_country</td>
                      <td>String</td>
                      <td>2</td>
                      <td>0-9A-Za-z\s\’</td>
                      <td>value between <span class="text-color">1 - 150</span></td>
                    </tr>
                    <tr>
                      <td>package_weight</td>
                      <td>Integer</td>
                      <td>1 - 3</td>
                      <td>0-9A-Za-z\s\’</td>
                      <td>e.g. <span class="text-color">Sender Inc.</span> / Value can be empty string</td>
                    </tr>
                  </table>
                </div>
              </div>
              <div class="api__item">
                <h3 class="api__item-title">Response Params (Success)</h3>
                <div class="api__item-wrapper">
                  <table class="api__table">
                    <tr>
                      <th>Key</th>
                      <th>Type</th>
                      <th>Value</th>
                    </tr>
                    <tr>
                      <td>status</td>
                      <td>String</td>
                      <td><span class="text-color">success</span></td>
                    </tr>
                    <tr>
                      <td>trans_id</td>
                      <td>String</td>
                      <td>e.g. <span class="text-color">00000000-0000-0000-0000-000000000000-00000000</span></td>
                    </tr>
                    <tr>
                      <td>balance</td>
                      <td>String</td>
                      <td>e.g. <span class="text-color">10</span></td>
                    </tr>
                    <tr>
                      <td>filetype</td>
                      <td>String</td>
                      <td>e.g. <span class="text-color">pdf</span></td>
                    </tr>
                    <tr>
                      <td>track</td>
                      <td>String</td>
                      <td>e.g. <span class="text-color">123456789012</span></td>
                    </tr>
                    <tr>
                      <td>image</td>
                      <td>String</td>
                      <td>base64 encoded file</td>
                    </tr>
                  </table>
                </div>
              </div>
              <div class="api__item">
                <h3 class="api__item-title">Response Params (Success)</h3>
                <div class="api__item-wrapper">
                  <table class="api__table">
                    <tr>
                      <th>Key</th>
                      <th>Type</th>
                      <th>Value</th>
                    </tr>
                    <tr>
                      <td>status</td>
                      <td>String</td>
                      <td><span class="text-color">error</span></td>
                    </tr>
                    <tr>
                      <td>balance</td>
                      <td>Integer</td>
                      <td>e.g. 1 (displays only if balance less than label cost)</td>
                    </tr>
                    <tr>
                      <td>message</td>
                      <td>String</td>
                      <td>error message</td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
            <div class="title-box">
              <h2 class="title">ship: Request / response example</h2>
            </div>
            <div class="api__request">
              <div class="api__item">
                <h3 class="api__item-title">Request (PHP):</h3>
                <div class="api__request-list api__item-wrapper">
                  <span>$api_key = '{YOUR_API_KEY}';</span>
                  <span>$endpoint = 'https://westweight.biz/api/ship';</span>
                  <br>
                  <span>$shipment = array(</span>
                  <span>'api_key' => $api_key,</span>
                  <span>'carrier_name' => 'ups',</span>
                  <span>'carrier_service' => 'ups_ground',</span>
                  <span>'sender_name' => 'John Doe',</span>
                  <span>'sender_phone' => '1234567890',</span>
                  <span>'sender_company' => '',</span>
                  <span>'sender_address1' => '123 Main St.',</span>
                  <span>'sender_address2' => '',</span>
                  <span>'sender_city' => 'Detroit',</span>
                  <span>'sender_state' => 'MI',</span>
                  <span>'sender_zip' => '48221',</span>
                  <span>'sender_country' => 'US',</span>
                  <span>'recipient_name' => 'Jane Doe',</span>
                  <span>'recipient_phone' => '9876543210',</span>
                  <span>'recipient_company' => '',</span>
                  <span>'recipient_address1' => '321 Maple Street',</span>
                  <span>'recipient_address2' => '',</span>
                  <span>'recipient_city' => 'Miami',</span>
                  <span>'recipient_state' => 'FL',</span>
                  <span>'recipient_zip' => '33101',</span>
                  <span>'recipient_country' => 'US',</span>
                  <span>'package_weight' => 10</span>
                  <br>
                  <span>);</span>
                  <br>
                  <span>$shipment = json_encode($shipment);</span>
                  <br>
                  <span>$curl = curl_init();</span>
                  <br>
                  <span>curl_setopt_array($curl, array(</span>
                  <span>CURLOPT_URL => $endpoint,</span>
                  <span>CURLOPT_POSTFIELDS => $shipment,</span>
                  <span>CURLOPT_CUSTOMREQUEST => 'POST',</span>
                  <span>CURLOPT_HTTPHEADER => array('Content-Type: application/json'),</span>
                  <span>CURLOPT_SSL_VERIFYHOST => false,</span>
                  <span>CURLOPT_SSL_VERIFYPEER => false,</span>
                  <span>CURLOPT_RETURNTRANSFER => true,</span>
                  <span>CURLOPT_TIMEOUT => 30,</span>
                  <span>CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1</span>
                  <br>
                  <span>));</span>
                  <br>
                  <span>$response = curl_exec($curl);</span>
                  <span>$error = curl_error($curl);</span>
                  <br>
                  <span>if ($error) {</span>
                  <span>echo 'cURL Error #:' . $error;</span>
                  <span>} else {</span>
                  <span>$json_response = json_decode($response);</span>
                  <br>
                  <span>if (json_last_error() === JSON_ERROR_NONE) {</span>
                  <span>if ($json_response->status === 'success') {</span>
                  <span>$filename = $json_response->track . $json_response->filetype;</span>
                  <span>$image_data = base64_decode($json_response->image);</span>
                  <br>
                  <span>if (file_put_contents($filename, $image_data) === false) {</span>
                  <span>echo 'File saving error';</span>
                  <span>}</span>
                  <span>} elseif ($json_response->status === 'error') {</span>
                  <span>echo $json_response->message;</span>
                  <span>} else {</span>
                  <span>var_dump($json_response);</span>
                  <span>}</span>
                  <span>} else {</span>
                  <span>echo json_last_error_msg() . "\n\n";</span>
                  <span>var_dump($response);</span>
                  <span>}</span>
                  <span>}</span>
                  <span>curl_close($curl);</span>
                </div>
              </div>
              <div class="api__item">
                <h3 class="api__item-title">Response (JSON/Success):</h3>
                <div class="api__request-list api__item-wrapper">
                  <span>{</span>
                  <span>"status": "success",</span>
                  <span>"trans_id": "00000000-0000-0000-0000-000000000000-00000000",</span>
                  <span>"balance": 10,</span>
                  <span>"filetype": "pdf",</span>
                  <span>"track": "123456789012",</span>
                  <span>"image": "base64 hash"</span>
                  <span>}</span>
                </div>
              </div>
              <div class="api__item">
                <h3 class="api__item-title">Response (JSON/Error):</h3>
                <div class="api__request-list api__item-wrapper">
                  <span>{</span>
                  <span>"status": "success",</span>
                  <span>"trans_id": "00000000-0000-0000-0000-000000000000-00000000",</span>
                  <span>"balance": 10,</span>
                  <span>"filetype": "pdf",</span>
                  <span>"track": "123456789012",</span>
                  <span>"image": "base64 hash"</span>
                  <span>}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
  <!--=include modal.html-->
  <script src="libs/jquery/jquery.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.1/dist/index.umd.min.js"></script>
  <script src="js/main.js"></script>
</body>

</html>